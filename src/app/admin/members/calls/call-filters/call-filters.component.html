<form class="filters-container" #callFiltersForm="ngForm" [dir]="currentLang === 'ar' ? 'rtl': 'ltr'">
  <div class="row">

    <div class="col-12">
      <mat-form-field appearance="outline" class="mo-w-full" (click)="pickerDOB.open()">
        <mat-label>{{'members.callDateRange' | translate}}</mat-label>
        <mat-date-range-input [rangePicker]="pickerDOB">
          <input matStartDate [(ngModel)]="filters.from" name="fromDate" placeholder="From date">
          <input matEndDate [(ngModel)]="filters.to" name="toDate" placeholder="To date">
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="pickerDOB"></mat-datepicker-toggle>
        <mat-date-range-picker startView="year" #pickerDOB></mat-date-range-picker>
      </mat-form-field>
    </div>

    <div class="col-12">
      <mat-form-field appearance="outline" class="mo-w-full">
        <mat-label>{{'members.memberName' | translate}}</mat-label>
        <input matInput [(ngModel)]="filters.memberName" name="name" type="text"
          placeholder="{{'members.memberName' | translate}}" />
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="outline" class="mo-w-full">
          <mat-label>{{'members.phone' | translate}}</mat-label>
          <input matInput [(ngModel)]="filters.phoneNo" name="phoneNo" type="text"
            placeholder="{{'members.phone' | translate}}" />
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field appearance="outline" class="mo-w-full">
            <mat-label>{{'members.feedback' | translate}}</mat-label>
            <mat-select [(ngModel)]="filters.feedbackId" name="feedbackId">
              @for (f of feedBack; track f) {
                <mat-option [value]="f.id">{{currentLang === 'ar' ? f.nameAR : f.nameEng}}
                </mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field appearance="outline" class="mo-w-full" (click)="pickerFollowup.open()">
            <mat-label>{{'members.followUpDateRange' | translate}}</mat-label>
            <mat-date-range-input [rangePicker]="pickerFollowup">
              <input matStartDate [(ngModel)]="filters.followUpFromDate" name="followupFrom" placeholder="From date">
              <input matEndDate [(ngModel)]="filters.followUpToDate" name="followupTo" placeholder="To date">
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="pickerFollowup"></mat-datepicker-toggle>
            <mat-date-range-picker startView="year" #pickerFollowup></mat-date-range-picker>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field appearance="outline" class="mo-w-full">
            <mat-label>{{'members.salesPerson' | translate}}</mat-label>
            <mat-select [(ngModel)]="filters.salesPersonId" name="salesPersonId">
              @for (sale of sales; track sale) {
                <mat-option [value]="sale.id">{{sale.name}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field class="mo-w-full" appearance="outline">
            <mat-label>{{'members.sourceOfK' | translate}}</mat-label>
            <mat-select [(ngModel)]="filters.source" name="sourceOfKnowledge">
              <mat-option [value]="null">{{'reports.table.none' | translate}}</mat-option>
              @for (el of sources; track el) {
                <mat-option [value]="el.id">{{el.name}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-checkbox [(ngModel)]="filters.isReminder" name="isReminder">{{'members.membersToFollowup' | translate}}
          </mat-checkbox>
        </div>

        <div class="col-12">
          <mat-checkbox [(ngModel)]="filters.lastCallOnly" name="lastCallOnly">{{'members.lastCallOnly' | translate}}
          </mat-checkbox>
        </div>

      </div>

      <div class="mo-my-3">
        <button class="mo-font-bold mo-w-full mo-mb-2" (click)="onFilter.emit()" mat-raised-button color="primary"
        type="button">{{'members.search' | translate}}</button>
        <button class="mo-font-bold mo-w-full" (click)="callFiltersForm.reset();onFilter.emit()" mat-button
        type="button">{{'members.clearAll' | translate}}</button>
      </div>
    </form>
