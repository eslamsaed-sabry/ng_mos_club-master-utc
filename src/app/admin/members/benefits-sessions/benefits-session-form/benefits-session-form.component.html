<h5 mat-dialog-title class="mo-font-bold mo-my-2">
{{data.type === 'addSession' ? ('extra.addSession' | translate) : ('extra.editSession' | translate)}}</h5>

<form (ngSubmit)="addSession(sessionForm)" #sessionForm="ngForm">

  <div mat-dialog-content>

    <div class="mo-flex">
      <mat-form-field class="mo-w-full" (click)="sessionDatepicker.open()" appearance="outline">
        <mat-label>{{'members.sessionDateTime' | translate}}</mat-label>
        <input matInput [matDatepicker]="sessionDatepicker" [(ngModel)]="session.sessionDate" name="sessionDate"
          required />
          <mat-datepicker-toggle matSuffix [for]="sessionDatepicker"></mat-datepicker-toggle>
          <mat-datepicker #sessionDatepicker></mat-datepicker>
        </mat-form-field>
        @if (session.sessionDate) {
          <div>
            <ngx-timepicker-field [defaultTime]="time" (timeChanged)="getTime($event)"></ngx-timepicker-field>
          </div>
        }
      </div>

      @if (data.benefit.staffType === staffTypes.SalesPerson) {
        <mat-form-field appearance="outline" class="mo-w-full">
          <mat-label>{{'members.salesPerson' | translate}}</mat-label>
          <mat-select [(ngModel)]="session.staffMemberId" name="staffMemberId" required>
            @for (sale of sales; track sale) {
              <mat-option [value]="sale.id">{{sale.name}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      }

      @if (data.benefit.staffType === staffTypes.Trainer) {
        <mat-form-field appearance="outline" class="mo-w-full">
          <mat-label>{{'members.trainer' | translate}}</mat-label>
          <mat-select [(ngModel)]="session.staffMemberId" name="staffMemberId" required>
            @for (trainer of trainers; track trainer) {
              <mat-option [value]="trainer.id">{{trainer.name}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      }

      @if (data.benefit.staffType === staffTypes.Doctor) {
        <mat-form-field appearance="outline" class="mo-w-full">
          <mat-label>{{'members.doctor' | translate}}</mat-label>
          <mat-select [(ngModel)]="session.staffMemberId" name="staffMemberId" required>
            @for (doctor of doctors; track doctor) {
              <mat-option [value]="doctor.id">{{doctor.name}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      }

      @if (data.benefit.staffType === staffTypes.AllStaff) {
        <mat-form-field appearance="outline" class="mo-w-full">
          <mat-label>{{'members.allStaff' | translate}}</mat-label>
          <mat-select [(ngModel)]="session.staffMemberId" name="staffMemberId" required>
            @for (s of staff; track s) {
              <mat-option [value]="s.id">{{s.name}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      }


    </div>

    <div mat-dialog-actions class="mo-justify-end">
      <button mat-button type="button" (click)="dismiss()">{{'members.cancel' | translate}}</button>
      @if (data.type === 'addSession') {
        <button mat-raised-button color="primary" type="submit">
          {{'members.save' | translate}}
        </button>
      }
      @if (data.type === 'editSession') {
        <button mat-raised-button color="primary" (click)="editSession(sessionForm)"
          type="button">
          {{'members.save' | translate}}
        </button>
      }
    </div>


  </form>