<div class="report-filters-bg mo-shadow-md">
  <h4 class="mo-font-bold mb-4">{{'reports.filters' | translate}}</h4>

  <form>
    <mat-form-field appearance="outline" class="mo-w-full">
      <mat-label>{{'reports.table.memberContractNo' | translate}}</mat-label>
      <input type="text" matInput placeholder="{{'reports.table.memberContractNo' | translate}}"
        [(ngModel)]="filters.contractNo" name="memberApplicationNo">
      </mat-form-field>

      <mat-form-field appearance="outline" class="mo-w-full">
        <mat-label>{{'reports.table.memberCode' | translate}}</mat-label>
        <input type="text" matInput placeholder="{{'reports.table.memberCode' | translate}}"
          [(ngModel)]="filters.accessCode" name="memberCode">
        </mat-form-field>

        <mat-form-field appearance="outline" class="mo-w-full">
          <mat-label>{{'reports.table.memberPhone' | translate}}</mat-label>
          <input type="text" matInput placeholder="{{'reports.table.memberPhone' | translate}}"
            [(ngModel)]="filters.phoneNo" name="memberPhone">
          </mat-form-field>

          <mat-form-field appearance="outline" class="mo-w-full">
            <mat-label>{{'reports.table.memberName' | translate}}</mat-label>
            <input type="text" matInput placeholder="{{'reports.table.memberName' | translate}}"
              [(ngModel)]="filters.memberName" name="memberName">
            </mat-form-field>

            <mat-form-field appearance="outline" class="mo-w-full">
              <mat-label>{{'members.gender' | translate}}</mat-label>
              <mat-select [(ngModel)]="filters.gender" name="gender">
                <mat-option [value]="null">{{'reports.table.none' | translate}}</mat-option>
                <mat-option [value]="gender.MALE">{{'members.male' | translate}}</mat-option>
                <mat-option [value]="gender.FEMALE">{{'members.female' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="mo-w-full">
              <mat-label>{{'members.packageCategory' | translate}}</mat-label>
              <mat-select [(ngModel)]="filters.packageCategory" name="packageCategory" (selectionChange)="getPackages()">
                <mat-option [value]="0">{{'members.all' | translate}}</mat-option>
                <mat-option [value]="1">{{'members.gym' | translate}}</mat-option>
                <mat-option [value]="2">{{'members.private' | translate}}</mat-option>
                <mat-option [value]="3">{{'members.other' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="mo-w-full">
              <mat-label>{{'members.package' | translate}}</mat-label>
              <mat-select [(ngModel)]="filters.packageId" name="packageId">
                <mat-option [value]="null">{{'reports.table.none' | translate}}</mat-option>
                @for (pack of packages; track pack) {
                  <mat-option [value]="pack.id">{{pack.nameEng}}</mat-option>
                }
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="mo-w-full">
              <mat-label>{{'members.packageType' | translate}}</mat-label>
              <mat-select [(ngModel)]="filters.packageType" name="packageType">
                <mat-option [value]="null">{{'reports.table.none' | translate}}</mat-option>
                @for (pack of packageTypes; track pack) {
                  <mat-option [value]="pack.id">{{pack.name}}</mat-option>
                }
              </mat-select>
            </mat-form-field>

            <div class="mo-flex mo-items-center">
              <mat-checkbox [(ngModel)]="filters!!.debtFromDueDate" name="debtFromDueDate"
              (change)="onChange('debtFromDueDate', $event)" class="mo-me-1"></mat-checkbox>
              <mat-form-field appearance="outline" class="mo-w-full" (click)="debtFromDueDate.open()">
                <mat-label>{{'reports.table.dueDateFrom' | translate}}</mat-label>
                <input matInput [matDatepicker]="debtFromDueDate" [(ngModel)]="filters.debtFromDueDate"
                  name="debtFromDueDate" />
                  <mat-datepicker-toggle matSuffix [for]="debtFromDueDate"></mat-datepicker-toggle>
                  <mat-datepicker #debtFromDueDate></mat-datepicker>
                </mat-form-field>
              </div>

              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.debtToDueDate" name="debtToDueDate"
                (change)="onChange('debtToDueDate', $event)" class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full mo-my-2" (click)="debtToDueDate.open()">
                  <mat-label>{{'reports.table.dueDateTo' | translate}}</mat-label>
                  <input matInput [matDatepicker]="debtToDueDate" [(ngModel)]="filters.debtToDueDate" name="debtToDueDate" />
                  <mat-datepicker-toggle matSuffix [for]="debtToDueDate"></mat-datepicker-toggle>
                  <mat-datepicker #debtToDueDate></mat-datepicker>
                </mat-form-field>
              </div>

              <mat-form-field appearance="outline" class="mo-w-full">
                <mat-label>{{'reports.table.paymentStatus' | translate}}</mat-label>
                <mat-select [(ngModel)]="filters.paymentStatus" name="paymentStatus">
                  <mat-option [value]="null">{{'reports.table.none' | translate}}</mat-option>
                  <mat-option [value]="0">{{'reports.table.notPaid' | translate}}</mat-option>
                  <mat-option [value]="1">{{'reports.table.paymentDone' | translate}}</mat-option>
                </mat-select>
              </mat-form-field>

              <mat-checkbox [(ngModel)]="isActive" (change)="getSales()" name="isActive">{{'staff.activeSalesOnly' |
                translate}}
              </mat-checkbox>

              <mat-form-field appearance="outline" class="mo-w-full">
                <mat-label>{{'members.salesPerson' | translate}}</mat-label>
                <mat-select [(ngModel)]="filters.salesPersonId" name="salesPersonId">
                  <mat-option [value]="null">{{'reports.table.none' | translate}}</mat-option>
                  @for (el of sales; track el) {
                    <mat-option [value]="el.id">{{el.name}}</mat-option>
                  }
                </mat-select>
              </mat-form-field>

              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.startFromDate" name="startFromDate"
                (change)="onChange('startFromDate', $event)" class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full" (click)="startFromDate.open()">
                  <mat-label>{{'reports.table.startDateFrom' | translate}}</mat-label>
                  <input matInput [matDatepicker]="startFromDate" [(ngModel)]="filters.startFromDate" name="startFromDate" />
                  <mat-datepicker-toggle matSuffix [for]="startFromDate"></mat-datepicker-toggle>
                  <mat-datepicker #startFromDate></mat-datepicker>
                </mat-form-field>
              </div>


              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.startToDate" name="startToDate" (change)="onChange('startToDate', $event)"
                class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full mo-my-2" (click)="startToDate.open()">
                  <mat-label>{{'reports.table.startDateTo' | translate}}</mat-label>
                  <input matInput [matDatepicker]="startToDate" [(ngModel)]="filters.startToDate" name="startToDate" />
                  <mat-datepicker-toggle matSuffix [for]="startToDate"></mat-datepicker-toggle>
                  <mat-datepicker #startToDate></mat-datepicker>
                </mat-form-field>
              </div>

              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.endFromDate" name="endFromDate" (change)="onChange('endFromDate', $event)"
                class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full" (click)="endFromDate.open()">
                  <mat-label>{{'reports.table.expDateFrom' | translate}}</mat-label>
                  <input matInput [matDatepicker]="endFromDate" [(ngModel)]="filters.endFromDate" name="endFromDate" />
                  <mat-datepicker-toggle matSuffix [for]="endFromDate"></mat-datepicker-toggle>
                  <mat-datepicker #endFromDate></mat-datepicker>
                </mat-form-field>
              </div>


              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.endToDate" name="endToDate" (change)="onChange('endToDate', $event)"
                class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full mo-my-2" (click)="endToDate.open()">
                  <mat-label>{{'reports.table.expDateTo' | translate}}</mat-label>
                  <input matInput [matDatepicker]="endToDate" [(ngModel)]="filters.endToDate" name="endToDate" />
                  <mat-datepicker-toggle matSuffix [for]="endToDate"></mat-datepicker-toggle>
                  <mat-datepicker #endToDate></mat-datepicker>
                </mat-form-field>
              </div>


              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.settlementFrom" name="settlementFrom"
                (change)="onChange('settlementFrom', $event)" class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full" (click)="settlementFrom.open()">
                  <mat-label>{{'reports.table.upgradeDeadlineFrom' | translate}}</mat-label>
                  <input matInput [matDatepicker]="settlementFrom" [(ngModel)]="filters.settlementFrom" name="settlementFrom" />
                  <mat-datepicker-toggle matSuffix [for]="settlementFrom"></mat-datepicker-toggle>
                  <mat-datepicker #settlementFrom></mat-datepicker>
                </mat-form-field>
              </div>


              <div class="mo-flex mo-items-center">
                <mat-checkbox [(ngModel)]="filters!!.settlementTo" name="settlementTo" (change)="onChange('settlementTo', $event)"
                class="mo-me-1"></mat-checkbox>
                <mat-form-field appearance="outline" class="mo-w-full mo-my-2" (click)="settlementTo.open()">
                  <mat-label>{{'reports.table.upgradeDeadlineTo' | translate}}</mat-label>
                  <input matInput [matDatepicker]="settlementTo" [(ngModel)]="filters.settlementTo" name="settlementTo" />
                  <mat-datepicker-toggle matSuffix [for]="settlementTo"></mat-datepicker-toggle>
                  <mat-datepicker #settlementTo></mat-datepicker>
                </mat-form-field>
              </div>


            </form>
          </div>