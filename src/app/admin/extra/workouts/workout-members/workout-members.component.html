<mat-drawer-container class="example-container" autosize>

  <div class="page-title" [ngClass]="{'drawer-opened': drawer.opened}">
    <div>
      <h4>{{'members.workoutMembers' | translate}}</h4>
      @if (workoutDetails) {
        <h5 class="mo-font-bold mo-m-0"> {{workoutDetails.workoutTitle}} <small
        class="mo-text-muted">{{'common.by' | translate}} {{workoutDetails.trainerName}}</small></h5>
      }
      <button mat-button color="primary" routerLink="/admin/extra/workouts">
        <mat-icon>arrow_back_ios</mat-icon>
        <small>{{'common.back' | translate}} {{'reports.table.to' | translate}} {{'navigation.workouts' |
        translate}}</small>
      </button>
    </div>
    <div class="actions">
      <mat-form-field class="mo-mx-2">
        <mat-label>{{'members.search' | translate}}</mat-label>
        <input matInput (keyup)="applyFilter($event)" #input>
      </mat-form-field>

      <button color="primary" (click)="openMemberForm('add')" mat-raised-button>
        <mat-icon>add</mat-icon> {{'members.add' | translate}}
      </button>

      <!-- <button class="mo-mx-2" (click)="drawer.toggle()" mat-raised-button color="default">
      <mat-icon>{{drawer.opened ? 'filter_alt_off' : 'filter_alt'}}</mat-icon>
      {{drawer.opened ? ('members.hide' | translate) : ('members.show' | translate)}}
      {{'members.filters' | translate}}
    </button> -->
  </div>
</div>

<mat-drawer #drawer [mode]="width < 600 ? 'over':'side'" [dir]="'ltr'" [position]="'end'">
  <!-- <div class="filters-drawer">
  <div class="inner">
    <h4 class="mo-font-bold"> {{'members.filters' | translate}}</h4>
    <app-workout-members-filters [filters]="filters" (onFilter)="getComplaints()">
    </app-workout-members-filters>
  </div>
</div> -->
</mat-drawer>

<div [ngClass]="{'drawer-opened': drawer.opened}">
  <div class="table-responsive card p-3">
    <table mat-table [dataSource]="dataSource" matSort>

      <ng-container matColumnDef="assignedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.assignedDate' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.assignedDate | date:'MMM d, y, h:mm a' }}</td>
      </ng-container>

      <ng-container matColumnDef="memberContractNo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.contractNo' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.memberContractNo }}</td>
      </ng-container>

      <ng-container matColumnDef="memberPhone">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.phone' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.memberPhone }}</td>
      </ng-container>

      <ng-container matColumnDef="memberCode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.accessCode' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.memberCode }}</td>
      </ng-container>

      <ng-container matColumnDef="memberName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.memberName' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.memberName }}</td>
      </ng-container>

      <ng-container matColumnDef="assignedName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.assignedName' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.assignedName }}</td>
      </ng-container>

      <ng-container matColumnDef="notes">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.notes' | translate}}</th>
        <td mat-cell *matCellDef="let row">{{ row.notes }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon>settings</mat-icon>
        </th>
        <td mat-cell *matCellDef="let row">
          <button mat-button (click)="$event.stopPropagation()" [matMenuTriggerFor]="actionMenu">
            <mat-icon>more_horiz</mat-icon>
          </button>
          <mat-menu #actionMenu="matMenu" class="action-menu">
            <button (click)="deleteMember(row)" mat-menu-item class="mo-text-error-500">
              <mat-icon>delete</mat-icon> {{'members.delete' | translate}}
            </button>
          </mat-menu>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="9">{{'members.noData' | translate}}</td>
      </tr>
    </table>

    <mat-paginator (page)="onPaginationChange($event)" [pageSize]="perPage" [pageIndex]="page"
      [length]="totalElements" [pageSizeOptions]="[10, 25, 100]">
    </mat-paginator>
  </div>


</div>
</mat-drawer-container>