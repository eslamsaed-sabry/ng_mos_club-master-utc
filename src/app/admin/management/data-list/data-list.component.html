<div class="page-title">
  <h4 class="mo-font-bold mo-m-0">
    {{('navigation.'+lookupName) | translate}}
  </h4>

  <div class="actions">
    <!-- @if(lookupName === typesNames.CLASS_PROGRAMS.toLocaleLowerCase()){
    <mat-form-field>
      <mat-label>{{'classSchedule.classGenre' | translate}}</mat-label>
      <mat-select [(ngModel)]="classGenreId" (selectionChange)="getSelectedGenre()" name="classGenreId">
        <mat-option [value]="''">{{'members.all' | translate}}</mat-option>
        @for ( c of classGenre$ | async; track $index) {
          <mat-option [value]="c.id">{{c.name}}</mat-option>
        }
      </mat-select>
    </mat-form-field>
    } -->

    @if (lookupTypeID == allLookupType.ClassesTypes) {
      <mat-form-field appearance="outline" class="mo-mx-2">
        <mat-label>{{'members.search' | translate}}</mat-label>
        <input matInput #inputSearch [(ngModel)]="searchKey" name="searchKey" type="text"
          (input)="onSearchInput(inputSearch.value)" placeholder="{{'members.search' | translate}}" />
        </mat-form-field>
      }

      <button (click)="openLookupModal('add')" color="primary" mat-raised-button>
        <mat-icon>add</mat-icon> {{'members.add' | translate}}
      </button>
    </div>
  </div>


  <div>
    <div class="table-responsive card p-3">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="colorHex">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'reports.table.color' | translate}}</th>
          <td mat-cell *matCellDef="let row">
            <div class="palette" [ngStyle]="{'background-color': row.colorHex}"></div>
          </td>
        </ng-container>

        <ng-container matColumnDef="program">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'management.program' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.programName}}</td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'reports.table.name' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.name}}</td>
        </ng-container>

        <ng-container matColumnDef="viewOrder">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'management.viewOrder' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.viewOrder }}</td>
        </ng-container>

        <ng-container matColumnDef="isActive">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'administration.changeStatus' | translate}}</th>
          <td mat-cell *matCellDef="let row">
            <mat-slide-toggle (change)="toggleStatus(row)" color="primary" [(ngModel)]="row.isActive" name="isActive">
              <!-- <small>{{row.isActive ? ('administration.deactivate'|translate) : ('administration.activate'|translate)}}</small> -->
            </mat-slide-toggle>
          </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="mo-text-center">
            <mat-icon>settings</mat-icon>
          </th>
          <td mat-cell *matCellDef="let row" class="mo-text-center">
            <button mat-button (click)="$event.stopPropagation()" [matMenuTriggerFor]="actionMenu">
              <mat-icon>more_horiz</mat-icon>
            </button>
            <mat-menu #actionMenu="matMenu" class="action-menu">
              <button (click)="openLookupModal('edit',row)" mat-menu-item>
                <mat-icon>edit_note</mat-icon>
                {{'members.edit' | translate}}
              </button>

              <button (click)="onDeleteLookup(row)" mat-menu-item class="mo-text-error-500">
                <mat-icon>delete_sweep</mat-icon>
                {{'members.delete' | translate}}
              </button>
            </mat-menu>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="9">{{'members.noData' | translate}}</td>
        </tr>
      </table>

      <mat-paginator (page)="onPaginationChange($event)" [pageSize]="perPage" [pageIndex]="page" [length]="totalElements"
        [pageSizeOptions]="[10, 25, 100]">
      </mat-paginator>
    </div>
  </div>