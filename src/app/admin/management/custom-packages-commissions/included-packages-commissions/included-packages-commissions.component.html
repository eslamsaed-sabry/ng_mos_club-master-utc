<h3 mat-dialog-title>{{'management.packages' | translate}}</h3>

<div class="p-3">
  <label class="mo-me-3">
    <span class="mo-font-bold">{{'reports.table.month' | translate}} :</span>
    {{data.packagesCommissionsMonths?.month}}
  </label>

  <label class="mo-ms-3">
    <span class="mo-font-bold">{{'reports.table.year' | translate}} :</span>
    {{data.packagesCommissionsMonths?.year}}
  </label>
</div>

<div class="page-title mo-pe-4">
  <div class="actions">
    <button color="primary" (click)="addPackagesCommissions('add')" mat-raised-button>
      <mat-icon class="adjust-icon">add</mat-icon> {{'management.addPackage' | translate}}
    </button>
  </div>
</div>

<button class="modal-close-btn" type="button" mat-icon-button (click)="onCloseModal()">
  <mat-icon>close</mat-icon>
</button>

<div mat-dialog-content>
  <div class="card p-3">
    <div class="table-responsive">
      <table mat-table [dataSource]="packagesCommissions" matSort>
        <ng-container matColumnDef="creationDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.creationDate' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.creationDate | date:'MMM d, y, h:mm a' }}</td>
        </ng-container>

        <ng-container matColumnDef="packageName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'reports.table.packageName' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.packageName }}</td>
        </ng-container>

        <ng-container matColumnDef="salesPercentage">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'management.salesPercentage' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.salesPercentage }}</td>
        </ng-container>

        <ng-container matColumnDef="trainerPercentage">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'management.trainerPercentage' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.trainerPercentage }} </td>
        </ng-container>

        <ng-container matColumnDef="gymPercentage">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'management.gymPercentage' | translate}}</th>
          <td mat-cell *matCellDef="let row">
            {{ row.gymPercentage }}
          </td>
        </ng-container>

        <ng-container matColumnDef="username">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.username' | translate}}</th>
          <td mat-cell *matCellDef="let row">{{ row.username }}</td>
        </ng-container>

        <ng-container matColumnDef="edit">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.edit' | translate}}</th>
          <td mat-cell *matCellDef="let row">
            <button (click)="addPackagesCommissions('edit',row)" mat-icon-button
              color="accent"><mat-icon>edit_note</mat-icon></button>
          </td>
        </ng-container>

        <ng-container matColumnDef="delete">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'members.delete' | translate}}</th>
          <td mat-cell *matCellDef="let row">
            <button *appRole="['calls', 'tsb_Remove']" (click)="deleteCall(row)" mat-icon-button
              color="warn"><mat-icon>delete_sweep</mat-icon></button>
          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="9">{{'members.noData' | translate}}</td>
        </tr>
      </table>

      <mat-paginator (page)="onPaginationChange($event)" [pageSize]="perPage" [pageIndex]="page"
        [length]="totalElements" [pageSizeOptions]="[10, 25, 100]">
      </mat-paginator>
    </div>
  </div>
</div>